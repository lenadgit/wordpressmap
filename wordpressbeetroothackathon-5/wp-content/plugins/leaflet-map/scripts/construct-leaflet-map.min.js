!function(){var t=window.WPLeafletMapPlugin;if(window.WPLeafletMapPlugin=new function(){function t(t){try{t()}catch(t){console.log("-- version --","v3.0.2"),console.error(t)}}this.VERSION="v3.0.2";var n=!1,e=[];this.push=function(i){n?t(i):e.push(i)},this.unshift=function(i){n?t(i):e.unshift(i)},this.init=function(){n=!0;for(var i=0,r=e.length;i<r;i++)t(e[i])},this.createMap=function(t){var n=document.getElementsByClassName("WPLeafletMap")[this.maps.length],e=L.map(n,t);return t.fitBounds&&(e._shouldFitBounds=!0),t.attribution&&function(t,n){if(!t)return;for(var e=t.split(";"),i=L.control.attribution({prefix:!1}).addTo(n),r=0,o=e.length;r<o;r++){var a=(u=e[r]).trim?u.trim():u.replace(/^\s+|\s+$/gm,"");i.addAttribution(a)}var u}(t.attribution,e),this.maps.push(e),e},this.createImageMap=function(t){var n=this.createMap(t);return n.is_image_map=!0,this.images.push(n),n},this.getCurrentMap=function(){return this.maps[this.maps.length-1]},this.getCurrentGroup=function(){var t=this.maps.length;return this.markergroups[t]||(this.markergroups[t]=this.newMarkerGroup(this.maps[t-1])),this.markergroups[t]},this.getCurrentMarkerGroup=this.getCurrentGroup,this.getGroup=function(t){return(new L.FeatureGroup).addTo(t)},this.newMarkerGroup=function(t){var n=this.getGroup(t);return n.timeout=null,t._shouldFitBounds&&n.on("layeradd",(function(e){e.layer instanceof L.FeatureGroup&&e.layer.on("ready",(function(){t.fitBounds(n.getBounds())})),window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){try{t.fitBounds(n.getBounds())}catch(t){}}),100)}),n),n},this.propsToTable=function(t){var n,e=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);for(var i="<table>",r=0,o=(e=e.sort()).length;r<o;r++){var a=e[r];i+="<tr><td>"+a+"</td>",i+="<td>"+t[a]+"</td></tr>"}return i+="</table>"};var i=this.unescape=function(t){var n=document.createElement("div");return n.innerHTML=t,n.innerText||t},r=/\{ *(.*?) *\}/g;this.template=function(t,n){return null==n?t:t.replace(r,(function(t,e){var r=function(t){for(var n=t.split(" | "),e={},i=n.shift(),r=0,o=n.length;r<o;r++){var a=n[r].split(": "),u=a.shift(),s=a.join(": ")||!0;e[u]=s}return e.key=i,e}(e),a=function(t,n){for(var e=function(t){if(null==t)return[];for(var n=t.split(o),e=[],i=0,r=n.length;i<r;i++)""!==n[i]&&e.push(n[i]);return e}(i(n)),r=t,a=0,u=e.length;a<u;a++)if(!(r=r[e[a]]))return;return r}(n,r.key);return null==a?r.default||t:a}))};var o=/[.‘’'“”"\[\]]+/g;function a(t,n){"undefined"!=typeof L&&void 0!==L[t]?n():setTimeout((function(){a(t,n)}),100)}this.waitForSVG=function(t){a("SVGIcon",t)},this.waitForAjax=function(t){a("AjaxGeoJSON",t)},this.createScale=function(t){L.control.scale(t).addTo(this.getCurrentMap())},this.maps=[],this.images=[],this.markergroups={},this.markers=[],this.lines=[],this.polygons=[],this.circles=[],this.geojsons=[]},t){for(var n=0,e=t.length;n<e;n++)window.WPLeafletMapPlugin.push(t[n]);for(var i in t.splice(0),t)t.hasOwnProperty(i)&&(window.WPLeafletMapPlugin[i]=t[i])}window.addEventListener?window.addEventListener("load",window.WPLeafletMapPlugin.init,!1):window.attachEvent&&window.attachEvent("onload",window.WPLeafletMapPlugin.init)}();
